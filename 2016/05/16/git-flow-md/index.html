
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>git flow.md | Air的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="Air Kang">
    
    <meta name="description" content="用了Git就回不去了
Git是什么？简单点说就是版本管理的工具，类似于SVN, CVS，但是比它们强大很多。
介绍请参照官方网站: http://git-scm.com/
Git 的基本命令:
  add        Add file contents to the index  
  bisec">
    
    
    
    
    <link rel="alternate" href="/hexo-blog/atom.xml" title="Air的博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/hexo-blog/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/hexo-blog/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/hexo-blog/img/pacman.jpg">
    
    <link rel="stylesheet" href="/hexo-blog/css/style.css">
</head>

  <body>
    <header>
      <div>
		
			<div id="imglogo">
				<a href="/hexo-blog/"><img src="/hexo-blog/img/logo.svg" alt="Air的博客" title="Air的博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/hexo-blog/" title="Air的博客">Air的博客</a></h1>
				<h2 class="blog-motto">新的开始</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					
						<li><a href="/hexo-blog">Home</a></li>
					
						<li><a href="/hexo-blog/archives">Archives</a></li>
					
						<li><a href="/hexo-blog/atom.xml">Rss</a></li>
					
						<li><a href="/hexo-blog/sitemap.xml">Sitemap</a></li>
					
					<li>
					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:lonelyair.github.io/hexo-blog">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/hexo-blog/2016/05/16/git-flow-md/" title="git flow.md" itemprop="url">git flow.md</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://lonelyair.github.io/hexo-blog" title="Air Kang">Air Kang</a>
    </p>
  <p class="article-time">
    <time datetime="2016-05-16T11:53:11.000Z" itemprop="datePublished">2016-05-16</time>
    更新日期:<time datetime="2016-05-16T12:21:23.000Z" itemprop="dateModified">2016-05-16</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">用了Git就回不去了</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#undefined"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">Git 的基本命令:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">Git Flow是一套基于Git进行开发流程管理的框架，其精髓在于其流程可以使得多人协作时可以有效地配合项目流程进行源代码管理。</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.1.</span> <span class="toc-text">git-flow在ubuntu上使用比较简单。首先安装，可以通过apt-get来获取。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.2.</span> <span class="toc-text">git flow init</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.</span> <span class="toc-text">主要分支（master,develop）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.0.1.</span> <span class="toc-text">辅助分支 （feature, release, hotfix）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.4.</span> <span class="toc-text">修复一个bug</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.5.</span> <span class="toc-text">增加一个功能特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.6.</span> <span class="toc-text">功能完成，要合并到主分支，这时可以执行</span></a></li></ol></li></ol>
		</div>
		
		<h2>用了Git就回不去了</h2>
<p>Git是什么？简单点说就是版本管理的工具，类似于SVN, CVS，但是比它们强大很多。<br>
介绍请参照官方网站: http://git-scm.com/</p>
<h5>Git 的基本命令:</h5>
<pre><code>  add        Add file contents to the index  
  bisect     Find by binary search the change that introduced a bug  
  branch     List, create, or delete branches  
  checkout   Checkout a branch or paths to the working tree  
  clone      Clone a repository into a new directory  
  commit     Record changes to the repository  
  diff       Show changes between commits, commit and working tree, etc  
  fetch      Download objects and refs from another repository  
  grep       Print lines matching a pattern  
  init       Create an empty Git repository or reinitialize an existing one  
  log        Show commit logs  
  merge      Join two or more development histories together  
  mv         Move or rename a file, a directory, or a symlink  
  pull       Fetch from and integrate with another repository or a local branch  
  push       Update remote refs along with associated objects  
  rebase     Forward-port local commits to the updated upstream head  
  reset      Reset current HEAD to the specified state  
  rm         Remove files from the working tree and from the index  
  show       Show various types of objects  
  status     Show the working tree status  
  tag        Create, list, delete or verify a tag object signed with GPG  
</code></pre>
<h2>Git Flow是一套基于Git进行开发流程管理的框架，其精髓在于其流程可以使得多人协作时可以有效地配合项目流程进行源代码管理。</h2>
<p>下图是Git Flow流程发明者提出的流程:
<img src="/hexo-blog/images/git-flow-all.png" alt="Git flow 流程图"></p>
<h3>git-flow在ubuntu上使用比较简单。首先安装，可以通过apt-get来获取。</h3>
<p>命令如下：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git-flow</span><br></pre></td></tr></table></figure></p>
<p>如果是在windows下，可以参考这篇文章进行安装：http://my.eoe.cn/sunxun/archive/158.html</p>
<h3>git flow init</h3>
<p>它会创建或转换一个新的版本分支结构，当然在初始化的过程中，会问到以下这边问题，我都选择了默认：</p>
<ol>
<li>Which branch should be used for bringing forth production releases?</li>
<li>
<ul>
<li>master</li>
</ul>
</li>
<li>Branch name for production releases: [master]</li>
<li>Branch name for &quot;next release&quot; development: [develop]</li>
<li>How to name your supporting branch prefixes?</li>
<li>Feature branches? [feature/]</li>
<li>Release branches? [release/]</li>
<li>Hotfix branches? [hotfix/]</li>
<li>Support branches? [support/]</li>
<li>Version tag prefix? []</li>
</ol>
<h3>主要分支（master,develop）</h3>
<p>Master 分支是当前服务生产环境的分支，相当于应用每一个的运行版本。<br>
Develop 分支是下次发布版本的开发分支，这个分支的内容会是现在开发完成的内容。</p>
<ul>
<li>
<p>develop分支: 开发分支，各种最新功能(feature)和最新的bug修复(hotfix)会合并进develop。稳定的新功能应该都要合并到develop分支。</p>
</li>
<li>
<p>master分支：主分支，生产环境运行主分支的代码，主分支强调稳定性。
<img src="/hexo-blog/images/git-flow-master.png" alt=""></p>
</li>
</ul>
<h5>辅助分支 （feature, release, hotfix）</h5>
<p>Feature 分支是每个人需要完成内容的独立分支，你开发的相当内容，都在这个分支上，开发完成后需要merge到Develop分支。<br>
Release 分支是下次发布的内容，如果有bug修改完成后需要merge回develop跟master分支。<br>
hotfix 分支是如果线上正在系统发现bug，临时开的一个分支，修改完成后需要分别merge回develop分支。</p>
<ul>
<li>feature分支：如果想开发一个新功能，则需要从develop分支的某个commit新建一个feature分支，完成开发的feature分支再merge回develop。所有merge回develop的feature都应该通过简单的自测。</li>
</ul>
<p><img src="/hexo-blog/images/git-flow-feature.png" alt=""></p>
<ul>
<li>
<p>release分支：当在某个节点完成feature开发时，需要对feature进行测试与发布时候，可以新建一个release分支，release分支可以对应测试环境，不应该在release分支上进行新功能开发，release分支仅仅应该进行功能验证与bug修复。release分支发布时，要双向merge到develop和master。</p>
</li>
<li>
<p>hotfix分支：当生产环境发现bug时，可以通过新建hotfix分支，来修复bug,修复后双向merge到develop和master。</p>
</li>
</ul>
<p><img src="/hexo-blog/images/git-flow-hotfix.png" alt=""></p>
<h3>修复一个bug</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git flow hotfix start 3</span><br></pre></td></tr></table></figure></p>
<p>它会创建一个基于master的分支hotfix/3，并切换到当前分支。
当修复完成后，可以执行以下命令：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git flow notfix finish 3</span><br></pre></td></tr></table></figure></p>
<h3>增加一个功能特性</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git flow feature start demo</span><br></pre></td></tr></table></figure></p>
<p>它会创建一个分支feature/demo，并切换到该分支。
当功能完成：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git flow feature finish demo</span><br></pre></td></tr></table></figure></p>
<p>它会有feature/demo分支合并到develop分支，然后切换回develop分支，并删除feature/demo分支。</p>
<h3>功能完成，要合并到主分支，这时可以执行</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git flow release start v0.7.0</span><br></pre></td></tr></table></figure></p>
<p>它会创建一个release/v0.7.0分支，并切换到该分支。
然后在这里进行测试。如果测试没问题，则执行以下命令：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git flow release finish v0.7.0</span><br></pre></td></tr></table></figure></p>
<p>它会将release/v0.7.0分支的内容合并到master分支和develop分支，并且打上tag v0.7.0，然后删除release/v0.7.0分支。</p>
  
	</div>
		<footer class="article-footer clearfix">

  <div class="article-tags">
  
  <span></span> <a href="/hexo-blog/tags/git/">git</a><a href="/hexo-blog/tags/git-flow/">git flow</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/hexo-blog/categories/git/">git</a>
</div>



<div class="article-share" id="share">

  <div data-url="http://lonelyair.github.io/hexo-blog/hexo-blog/2016/05/16/git-flow-md/" data-title="git flow.md | Air的博客" data-tsina="null" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/hexo-blog/2016/05/16/hello-world/" title="Hello World">
  <strong>PREVIOUS:</strong><br/>
  <span>
  Hello World</span>
</a>
</div>


<div class="next">
<a href="/hexo-blog/2016/05/11/Markdown基本用法说明/"  title="Markdown基本用法说明">
 <strong>NEXT:</strong><br/> 
 <span>Markdown基本用法说明
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">用了Git就回不去了</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#undefined"><span class="toc-number">1.0.0.1.</span> <span class="toc-text">Git 的基本命令:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">Git Flow是一套基于Git进行开发流程管理的框架，其精髓在于其流程可以使得多人协作时可以有效地配合项目流程进行源代码管理。</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.1.</span> <span class="toc-text">git-flow在ubuntu上使用比较简单。首先安装，可以通过apt-get来获取。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.2.</span> <span class="toc-text">git flow init</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.</span> <span class="toc-text">主要分支（master,develop）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#undefined"><span class="toc-number">2.3.0.1.</span> <span class="toc-text">辅助分支 （feature, release, hotfix）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.4.</span> <span class="toc-text">修复一个bug</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.5.</span> <span class="toc-text">增加一个功能特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined"><span class="toc-number">2.6.</span> <span class="toc-text">功能完成，要合并到主分支，这时可以执行</span></a></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/hexo-blog/categories/git/" title="git">git<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/categories/日志/" title="日志">日志<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/categories/日志/第一天/" title="第一天">第一天<sup>1</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/hexo-blog/tags/git/" title="git">git<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/tags/git-flow/" title="git flow">git flow<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/tags/nodejs-ppt/" title="nodejs ppt">nodejs ppt<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/tags/开始/" title="开始">开始<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/tags/我/" title="我">我<sup>1</sup></a></li>
		
			<li><a href="/hexo-blog/tags/日记/" title="日记">日记<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart">
	<a href="/hexo-blog/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2806925582&verifier=094bed16&dpc=1"></iframe>


</aside>
</div>
	  
<section id="comment">
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = "http//github.com/lonelyair/hexo-blog"; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "akangblog"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//akangblog.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</section>


    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<div class="social-font clearfix">
		
		
		
		
		
	</div>
		<p class="copyright">Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/A-limon/pacman" target="_blank" title="Pacman">Pacman</a> © 2016 
		
		<a href="http://lonelyair.github.io/hexo-blog" target="_blank" title="Air Kang">Air Kang</a>
		
		</p>
</div>
</footer>
    <script src="/hexo-blog/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>





<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<a href="https://github.com/lonelyair"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/c6286ade715e9bea433b4705870de482a654f78a/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_white_ffffff.png"></a>

  </body>
</html>

